/*!
  * FlatBB Editor v2.2 (http://flatboard.free.fr)
  * Copyright 2019-2020 Author: Frédéric Kaplon
  * Licensed under MIT (https://github.com/Fred89/flatboard/blob/master/LICENSE)
  * Minified with https://jscompress.com/
  */
function EditorTagInsert(e,n,t,a){if(""===a)return 0;0!=a&&(n=n.replace("$1",a));var o=document.getElementById(e);if(void 0===o||null==o)return 0;var i=o.selectionStart,l=o.selectionEnd,r=o.value;o.value=r.substring(0,i)+n+r.substring(i,l)+t+r.substring(l,r.length),o.selectionStart=i+n.length,o.selectionEnd=l+n.length,o.focus()}$(function(){bbcode()});var map={"o/":"👋","</3":"💔","<3":"💗","8-D":"😁","8D":"😁",":-D":"😁",":-3":"😁",":3":"😁","B^D":"😁","X-D":"😁",XD:"😁","x-D":"😁",xD:"😁",':")':"😂",':"-)':"😂",":-))":"😃","8)":"😄",":)":"😊",":-)":"😄",":]":"😄",":^)":"😄",":o)":"😄",":}":"😄",":っ)":"😄","0:)":"😇","0:-)":"😇","0:-3":"😇","0:3":"😇","0;^)":"😇","O:-)":"😇","3:)":"😈","3:-)":"😈","}:)":"😈","}:-)":"😈","*)":"😉","*-)":"😉",":-,":"😉",";)":"😉",";-)":"😉",";-]":"😉",";D":"😉",";]":"😉",";^)":"😉",":-|":"😐",":|":"😐",":(":"😒",":-(":"😒",":-<":"😒",":-[":"😒",":-c":"😒",":<":"😒",":[":"😒",":{":"😒",":っC":"😒","%)":"😖","%-)":"😖",":-P":"😜",":-b":"😜",":-p":"😜",":-Þ":"😜",":-þ":"😜",":Þ":"😜",":þ":"😜",";(":"😜","X-P":"😜",XP:"😜","x-p":"😜",xp:"😜",":-||":"😠",":-.":"😡",":-/":"😡",":L":"😡",":S":"😡",':"(':"😢",':"-(':"😢","^5":"😤","^<_<":"😤","o/\\o":"😤","|-O":"😫","|;-)":"😫",":###..":"😰",":-###..":"😰",'D-":':"😱",D8:"😱","D:<":"😱","D;":"😱",DX:"😱","v.v":"😱","8-0":"😲",":-O":"😲",":-o":"😲",":O":"😲",":o":"😲","O-O":"😲",O_O:"😲",O_o:"😲","o-o":"😲",o_O:"😲",o_o:"😲",":$":"😳","#-)":"😵",":#":"😶",":&":"😶",":-#":"😶",":-&":"😶",":-X":"😶",":X":"😶",":-J":"😼",":*":"😽",":^*":"😽","ಠ_ಠ":"🙅","*\\0/*":"🙆","\\o/":"🙆",":>":"😄",">.<":"😡",">:(":"😠",">:)":"😈",">:-)":"😈",">:[":"😒",">;)":"😈",">_>^":"😤","^^":"😊",":sweat":"😅"};function escapeSpecialChars(e){return e.replace(/([()[{*+.$^\\|?])/g,"\\$1")}function bbcode(){$('textarea[name="content"]').attr("data-emoji","true"),window.EmojiPicker.init(),$("#fullscreen").click(function(e){$("#form").toggleClass("fullscreen")}),$("document").ready(function(){$("#upload-file").on("change",function(){var e=$(this).get(0).files;if(e.length){if(e[0].size>5e3*$(this).data("max-size"))return console.log("Please select a smaller file"),!1;var n=new FormData;n.append("image",e[0]);var t={async:!0,crossDomain:!0,url:"https://api.imgur.com/3/image",method:"POST",datatype:"json",headers:{Authorization:"Client-ID 6ae5a6f69932e5e"},processData:!1,contentType:!1,data:n,beforeSend:function(e){console.log("Uploading file to Imgur...")},success:function(e){console.log(e.data.link),$('textarea[name="content"]').append("[img]"+e.data.link+"[/img]")},error:function(){alert("Failed to upload (Please select a smaller file).")}};$.ajax(t).done(function(e){console.log("Done")})}})})}document.getElementById("content").oninput=function(){for(var e in map){var n=new RegExp(escapeSpecialChars(e),"gim");this.value=this.value=this.value.replace(n,map[e])}};